# 4.リスト
# 4.1 リスト
Pythonでは複数のデータを要素としてまとめて取り扱う機能として**リスト(list)** というものが実装されています。

文字列を構成する要素は文字だけでしたが、リストでは構成する要素として *あらゆる型のデータを指定* することが出来ます。C言語では、リストに相当するものとして**配列** 、英語名で**アレイ(array)** が実装されています。

リストを作成するには、リストを構成する要素を`[...]` (大かっこ)で囲み、要素毎に`,` (コンマ)で区切ります。

以下に要素に数字を用いたリストを作ってみます。

例1\. リストの定義
```diff_python
numbers = [0, 10, 20, 30, 40, 50]
```
組み込み関数`type`を用いて、変数の値がリストであることを確認します。

例2\. 変数の型の確認
```diff_python
print(type(numbers))
# 実行結果<class 'list'>
```

先程、要素にはあらゆる型のデータを指定できると言いました。実際に、今度は文字列を要素にしたリストを作成してみます。

例3\. 文字列が要素のリスト
```diff_python
fruits = ['banana', 'apple', 'strawberry']
```

リストの要素にはあらゆる型のデータを指定でき、それらは混在しても構いません。以下のリストでは数値と文字列が混在しています。

例4\. 数値と文字列が混在したリスト
```diff_python
numbers_fruits = [1, 'banana', 2, 'apple', 3, 'strawberry']
```
# 4.2 タプル

ここまで**リスト**についてまとめましたが、リストに似た**タプル(tuple)** についても触れておきます。タプルがリストと違うのは**一度設定した要素を変更できない** という点にあります。すなわち、タプルは変更不可能なデータであるという事です。それ以外の点はリストと変わりません。

一見使いづらそうな機能ですが、作成した後で要素を変更する必要がない場合にはタプルを使うようにすると区別がつきやすく、リストよりもタプルを使うべきです。

タプルを作成するには、リストを構成する要素を`(...)` (丸かっこ)で囲み、要素毎に`,` (コンマ)で区切ります。

以下にタプルを作ってみて、データ型について調べてみます。

例5\. タプル
```diff_python
numbers = (0, 10, 20, 30, 40)
print(type(numbers))

# 実行結果 <class 'tuple'>
```

# 4.3 インデックス

**インデックス**とは、リストの中の特定の要素が何番目に格納されているかを示すものです。ここで必ず押さえておいてほしいことがあります。それは**インデックスは0からはじまる**ということです。リストの`x`番目の要素を取得するには、インデックスは`x-1`であるという事です。このように使用します。

```リスト名[x-1]```

文章では分かりにくいかもしれませんが、分かりやすさを優先した言い方をすれば要素ごとの通し番号といったものです。ただ、この場合には、通し番号は0からはじまるというだけのことです。


以上のことを踏まえて、例を示します。

例6\. インデックスの使用例
```diff_python
abcd = ['a', 'b', 'c', 'd']
print(abcd[1])
# 実行結果 <'b'>
```

また、インデックスで指定されるリストの要素は、代入によって変更出来ます。

例7\. 要素の変更
```diff_python
abcd = ['a', 'b', 'c', 'd']
abcd[2] = 'hello'
print(abcd)
# 実行結果 <['a', 'b', 'hello', 'd']>
```

ここまで、インデックスに正の値を使った例をまとめましたが、インデックスが負の値の時にはどうなるのでしょうか？

マイナスのインデックスは**後ろからの順番**を意味します。

例8\.マイナスのインデックス
```diff_python
nums = [0, 10, 20, 30, 40]

print(nums[0])
print(nums[-1])
print(nums[-2])
print(nums[-3])
print(nums[-4])
print(nums[-5])
print(nums[-6])
```
実行結果は
```diff_python
0
40
30
20
10
0
IndexError: list index out of range
```
このようになります。実行結果の最後の一文は「リストのインデックスの範囲外ですよ」という意味です。

# 4.4 スライス
前節ではインデックスを用いてリストの要素ひとつひとつにアクセスする方法について触れましたが、この節で扱う**スライス**はリストや文字列、タプルなどの一部分を選択、取得したり別の値を代入したりすることができます。

スライスでは、選択範囲の開始位置のインデックス`start`と終了位置のインデックス`stop`を`リスト名[start:stop]`のように書きます。この書き方はタプルでも同様である。タプルだからといって`タプル名(start:stop)`のようにしてはいけません。

スライスでは`start <= x < stop`の範囲の要素が選択されます。この不等式が示すように、`start`番目の値は含まれますが、`stop`番目の値は含まれません。

例9\. スライス
```diff_python
num = [0, 10, 20, 30, 40, 50, 60]
print(num[2:5])
# 実行結果 <[20, 30, 40]>
```
仕様上、もし要素数を超える位置を指定してもエラーにはならず無視されます。

例10\. 範囲外を指定したときのスライス
```diff_python
num = [0, 10, 20, 30, 40, 50, 60]
print(num[2:10])
# 実行結果 無視されるため何も表示されない
```

# 4.5 len関数
`len関数`は、リストやタプルの要素数を取得する場合に使用する関数です。`len関数`の引数にリストまたはタプルを指定すると、その要素数を取得できます。リストかタプルかによって挙動の違いはありません。

例11\. len関数
```diff_python
# リスト
accents = ['british', 'american', 'scottish', 'french']
print(len(accents))
# 実行結果 <3>

# タプル
programing_lang = ('C', 'Java', 'Python', 'PHP', 'JavaScript')
print(len(programing_lang))
# 実行結果 <5>
```
# 4.6 append メソッド
この節では**append メソッド** について学びます。appendメソッドとは**定義したリストに新しい要素を追加する方法**です。以下のように使います。

```diff_python
リスト名.append(値)
```
引数に指定した値を持つ要素をリストの最後に追加します。例を見ていきましょう。

例12\. append メソッド
```diff_python
mylist = ['A', 'B', 'C']
mylist.append('D')

print(mylist)
#実行結果 <['A', 'B', 'C', 'D']>
```
ここからは少し応用的な内容になるので次節`# 4.7 *演算子`に飛んで下さい。
***

appendメソッドは**定義したリストに新しい要素を追加する**ものでしたが、`スライス`と`len関数`を組み合わせることで、同じことが出来ます。

例13\. スライスとlen関数
```diff_python
mylist = ['A', 'B', 'C']
mylist[len(mylist):len(mylist)] = ['D', 'E']

print(mylist)
# 実行結果 <['A', 'B', 'C', 'D', 'E']>
```
簡単に仕組みを説明すると、イコール演算子の右に指定したリスト(今回は`['D', 'E']`)をリスト(`mylist`)に追加しています。`スライス`は要素を範囲選択する機能でしたが、今回のような書き方だと`len(mylist) <= x < len(mylist)`の範囲内の要素を選択することになり、xを満たすのは`len(mylist) = 3`となります。その場所に、イコール演算子の右に指定したリストを追加するので、上のような動きをするのです。

# 4.7 `*`演算子
**`*`演算子**を使用すると、リストの要素を指定回数繰り返した新しいリストを作成することが出来ます。リストの要素を指定した回数だけ繰り返した、新しいリストを作成します。

```diff_python
リスト名 * 回数
```
実際の使い方を見てみましょう。

例14\. `*`演算子の使用例
```diff_python
list = ['A', 'B']
newlist = list * 3
print(newlist)
# 実行結果 <['A', 'B', 'A', 'B', 'A', 'B', 'A', 'B']>
```

# 演習問題
1\. 配列に1から10の値を順番に代入し、配列の内容を出力するプログラムを作成してください。

2\. キーボードから3個の整数を入力し、その中に同じ数字があれば「同じ数字があります。」と出力するプログラムを配列を用いて作成してください。

3\. それぞれ3個の要素を持つ2つの整数型配列に数字を入力し、それぞれの要素を交換して、2つの配列を出力するプログラムをつくってください。
```
入力例
1 2 3
4 5 6

出力例
4 5 6
1 2 3
```